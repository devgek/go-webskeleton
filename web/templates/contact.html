{{define "t_content"}}
{{$userIsAdmin := .Admin}}
{{$yes := .Messages.GetString "ckbox.true"}}
{{$no := .Messages.GetString "ckbox.false"}}

<!-- Page Header-->
<div class="gks-page-header">
    <span class="navbar-brand">{{.Messages.GetString "form.contact.list.header"}}</span>
    <span class="float-right">
        <button type="button" class="btn gks-btn gks-btn-important gks-edit-new" data-toggle="modal"
            data-target="#contactEditModal">{{.Messages.GetString "form.contact.list.buttonnew"}}</button>
    </span>
</div>
<!-- Page Content -->
<div class="gks-page-content">
    <table class="table table-hover gk-table" id="contactTable">
        <thead>
            <tr>
                <th scope="col">Typ</th>
                <th scope="col">Name</th>
                <th scope="col">Namenszusatz</th>
                <th scope="col">Kundennummer</th>
                <th scope="col">Kundentyp</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            {{range .Entities}}
            <tr>
                <td>{{.OrgType.String}}</td>
                <td>{{.Name}}</td>
                <td>{{.NameExt}}</td>
                <td>{{.ID}}</td>
                <td>{{.CustomerType.Desc}}</td>
                <td class="w-5">
                    {{if $userIsAdmin}}
                    <div class="gks-icon-box">
                        <a href="#" data-toggle="modal" data-target="#contactEditModal" data-gkvobjid="{{.ID}}">
                            <svg class="gks-icon">
                                <use xlink:href="/assets/svg/gks-icons.svg#i-edit"></use>
                            </svg>
                        </a>
                        <a href="#" data-toggle="modal" data-target="#confirmDeleteModal"
                            data-cfdurl="/entitydeletecontact" data-gkvobjid="{{.ID}}">
                            <svg class="gks-icon">
                                <use xlink:href="/assets/svg/gks-icons.svg#i-trash"></use>
                            </svg>
                        </a>
                    </div>
                    {{else}}
                    <div class="d-none">
                        &nbsp;
                    </div>
                    {{end}}
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
<script>
    //create GKTable without inline editing
    var userTable = new GKTable("contactTable", false);

</script>

<!-- user-edit -->
{{template "t_contact-edit" .}}
{{template "t_confirm-delete" .}}

{{end}}