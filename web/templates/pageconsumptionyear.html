{{define "t_content"}}
{{$userIsAdmin := .Admin}}
{{$yes := .Messages.GetString "ckbox.true"}}
{{$no := .Messages.GetString "ckbox.false"}}

<div class="block block-rounded">
    <div class="block-header block-header-default">
        <h1 class="block-title text-primary">Energieverbrauch Gesamt</h1>
    </div>
    <div class="block-content block-content-full font-size-sm">
        <form action="pageconsumptionyear" name="formconsumptionyear" method="POST">
            <div class="form-inline">
                <div class="input-group font-size-sm">
                    <div class="input-group-prepend font-size-sm">
                        <span class="input-group-text font-size-sm bg-grey-light">
                            Energietyp
                        </span>
                    </div>
                    <select name="consumptionyearFilterEnergyType" class="form-control font-size-sm bg-info-light"
                        id="consumptionyearFilterEnergyType" value="" onchange="formconsumptionyear.submit();">
                        <option value="1">{{ ( index .EnergyTypes 1).DescUnit }}</option>
                        <option value="2">{{ ( index .EnergyTypes 2).DescUnit }}</option>
                        <option value="3">{{ ( index .EnergyTypes 3).DescUnit }}</option>
                        <option value="4">{{ ( index .EnergyTypes 4).DescUnit }}</option>
                        <option value="5">{{ ( index .EnergyTypes 5).DescUnit }}</option>
                        <option value="6">{{ ( index .EnergyTypes 6).DescUnit }}</option>
                        <option value="7">{{ ( index .EnergyTypes 7).DescUnit }}</option>
                    </select>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="block block-rounded">
    <div class="block-content block-content-full font-size-sm">
        <h2 class="content-heading">Verbrauch Gesamt</h2>
        <div class="text-dark w-10">
            <span class="">2019:</span>
            <div class="float-right gk-format-curr">{{.Sum2019.ValueF}} {{.FilterEnergyType.Unit}}</div>
        </div>
        <div class="text-dark w-10 font-w600">
            <span class="">2020:</span>
            <div class="float-right gk-format-curr">{{.Sum2020.ValueF}} {{.FilterEnergyType.Unit}}</div>
        </div>
    </div>
</div>
<!-- END Stats -->

<!-- Dashboard Charts -->
<div class="block block-rounded gk-bar-chart-container">
    <div class="block-header block-header-default">
        <h3 class="block-title">Vergleich 2019 - 2020</h3>
    </div>
    <!-- Bars Chart -->
    <!-- Chart.js is initialized in js/pages/be_pages_dashboard.min.js which was auto compiled from _es6/pages/be_pages_dashboard.js) -->
    <div class="block-content text-center">
        <div class="py-3">
            <!-- Bars Chart Container -->
            <canvas class="js-chartjs-bars gk-bar-chart"></canvas>
        </div>
    </div>
</div>
<!-- END Bars Chart -->

<!-- END Dashboard Charts -->
<!-- Page JS Code -->
<script>
    jQuery(function () { bepo_prepareSelect("consumptionyearFilterEnergyType", "{{.ValueEnergyType}}"); });
    jQuery(function () { bepo_format_all_curr(); });

    var compareData2019 = [];
    {{ range.CompareData2019 }}
    compareData2019.push("{{.ValueF}}")
    {{ end }}
    var compareData2020 = [];
    {{ range.CompareData2020 }}
    compareData2020.push("{{.ValueF}}")
    {{ end }}
</script>
<script src="assets/js/pages/bepo_charts.js"></script>

{{end}}