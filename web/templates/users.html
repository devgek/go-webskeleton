{{define "t_content"}}
{{$userIsAdmin := .Admin}}

<!-- Page Header-->
<div class="gks-page-header">
    <span class="navbar-brand">{{.Messages.GetString "form.users.header"}}</span>
    <span class="float-right">
        <button type="button"
            class="btn gks-btn gks-btn-important">{{.Messages.GetString "form.users.button.new"}}</button>
    </span>
</div>
<!-- Page Content -->
<div class="gks-page-content">
    <table class="table table-hover gk-table" id="userTable">
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Passwort</th>
                <th scope="col">Email</th>
                <th scope="col">Administrator</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            {{range .Users}}
            <tr>
                <td>{{.Name}}</td>
                <td>********</td>
                <td>{{.Email}}</td>
                <td>
                    {{if .Admin}}
                    <span>ja</span>
                    {{else}}
                    <span>nein</span>
                    {{end}}
                </td>
                <td class="w-5">
                    {{if $userIsAdmin}}
                    <div class="gks-icon-box">
                        <a href="#" data-toggle="modal" data-target="#userEditModal">
                            <svg class="gks-icon">
                                <use xlink:href="/assets/svg/gks-icons.svg#i-edit"></use>
                            </svg>
                        </a>
                        <a href="#" data-toggle="modal" data-target="#confirmDeleteModal" data-cfdurl="/userdelete" data-cfdobjid="{{.ID}}">
                            <svg class="gks-icon">
                                <use xlink:href="/assets/svg/gks-icons.svg#i-trash"></use>
                            </svg>
                        </a>
                    </div>
                    {{else}}
                    <div class="d-none">
                        &nbsp;
                    </div>
                    {{end}}
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
<script>
    //create GKTable without inline editing
    var userTable = new GKTable("userTable", false);

</script>

<!-- user-edit -->
{{template "t_user-edit" .}}
{{template "t_confirm-delete" .}}

{{end}}